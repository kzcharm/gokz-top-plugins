{"openapi":"3.1.0","info":{"title":"GOKZ TOP","version":"1.0.0"},"paths":{"/api/v1/login/steam":{"get":{"tags":["Auth"],"summary":"Login Steam","description":"Initiate Steam OpenID authentication flow.\nRedirects user to Steam's login page.","operationId":"Auth-login_steam","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/login/steam/callback":{"get":{"tags":["Auth"],"summary":"Steam Callback","description":"Handle Steam OpenID callback.\nVerifies the OpenID response and creates/updates user.\nRedirects to frontend with token in URL fragment.","operationId":"Auth-steam_callback","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/login/test-token":{"get":{"tags":["Auth"],"summary":"Test Token","description":"Test access token","operationId":"Auth-test_token","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/":{"get":{"tags":["Users"],"summary":"Read Users","description":"Retrieve users with optional sorting by created_at or last_seen.","operationId":"Users-read_users","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Field to order by: created_at or last_seen","default":"last_seen","title":"Order By"},"description":"Field to order by: created_at or last_seen"},{"name":"order_direction","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort direction: asc or desc","default":"desc","title":"Order Direction"},"description":"Sort direction: asc or desc"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Users"],"summary":"Create User","description":"Create new user.","operationId":"Users-create_user","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["Users"],"summary":"Read User Me","description":"Get current user.","operationId":"Users-read_user_me","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"HTTPBearer":[]}]},"delete":{"tags":["Users"],"summary":"Delete User Me","description":"Delete own user.","operationId":"Users-delete_user_me","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}}},"security":[{"HTTPBearer":[]}]},"patch":{"tags":["Users"],"summary":"Update User Me","description":"Update own user.","operationId":"Users-update_user_me","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateMe"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/me/binding-code":{"post":{"tags":["Users"],"summary":"Generate Binding Code","description":"Generate a binding code for QQ bot integration.\nThe code expires in 5 minutes and contains the user's steamid64.","operationId":"Users-generate_binding_code","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BindingCodePublic"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/users/{user_id}":{"get":{"tags":["Users"],"summary":"Read User By Id","description":"Get a specific user by id.","operationId":"Users-read_user_by_id","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Users"],"summary":"Update User","description":"Update a user.","operationId":"Users-update_user","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Users"],"summary":"Delete User","description":"Delete a user.","operationId":"Users-delete_user","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/utils/backup-db/":{"post":{"tags":["Utils"],"summary":"Trigger Backup","description":"Trigger a database backup to Cloudflare R2.\nThis runs the backup script asynchronously.","operationId":"Utils-trigger_backup","responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/utils/health-check/":{"get":{"tags":["Utils"],"summary":"Health Check","operationId":"Utils-health_check","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"boolean","title":"Response Utils-Health Check"}}}}}}},"/api/v1/utils/rating-formula/":{"get":{"tags":["Utils"],"summary":"Get Rating Formula","description":"Get the CS2KZ rating scaling formula parameters.\n\nThe formula scales CS2KZ rating to final rating (1-11 range):\n- Cap CS2KZ rating at rating_max_cs2kz\n- Normalize: normalized_base = cs2kz_rating / rating_normalization_divisor\n- Scale: rating = rating_min_value + ((normalized_base ** rating_power) / (rating_max_normalized_base ** rating_power)) * rating_scale_multiplier\n\nTo reverse (convert rating back to CS2KZ rating):\n- normalized_base = ((rating - rating_min_value) / rating_scale_multiplier) * (rating_max_normalized_base ** rating_power)\n- cs2kz_rating = normalized_base ** (1 / rating_power) * rating_normalization_divisor","operationId":"Utils-get_rating_formula","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RatingFormulaParams"}}}}}}},"/api/v1/maps":{"get":{"tags":["Maps"],"summary":"Read Maps","description":"Retrieve maps with populated author information.","operationId":"Maps-read_maps","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":100,"title":"Limit"}},{"name":"id","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"title":"Id"}},{"name":"name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"}},{"name":"larger_than_filesize","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Larger Than Filesize"}},{"name":"smaller_than_filesize","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Smaller Than Filesize"}},{"name":"is_validated","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Validated"}},{"name":"difficulty","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Difficulty"}},{"name":"created_since","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO format datetime string","title":"Created Since"},"description":"ISO format datetime string"},{"name":"updated_since","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"ISO format datetime string","title":"Updated Since"},"description":"ISO format datetime string"},{"name":"author_steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by author SteamID64","title":"Author Steamid64"},"description":"Filter by author SteamID64"},{"name":"author_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by author name (partial match)","title":"Author Name"},"description":"Filter by author name (partial match)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MapPublic"},"title":"Response Maps-Read Maps"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/maps/wr-cache-v2":{"get":{"tags":["Maps"],"summary":"Read Maps Wr Cache V2","description":"Get WR cache v2 for multiple maps.\nIf map_ids is not provided, returns WR cache for all validated maps.\nReturns a dict keyed by map_id, with values being lists of WR cache entries (overall and pro) for all modes.","operationId":"Maps-read_maps_wr_cache_v2","parameters":[{"name":"map_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Optional list of map IDs to fetch WR cache for. If not provided, returns WR cache for all validated maps.","title":"Map Ids"},"description":"Optional list of map IDs to fetch WR cache for. If not provided, returns WR cache for all validated maps."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/MapWRCacheV2Public"}},"title":"Response Maps-Read Maps Wr Cache V2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/maps/reviews/summary":{"get":{"tags":["Maps","Reviews"],"summary":"Read Map Reviews Summary","description":"Get map reviews summary with aggregated star statistics, comment counts, and timestamps.\nSupports filtering by map_id, map_name, map_ids, or map_names.\nSupports sorting by various fields and pagination.","operationId":"Maps-read_map_reviews_summary","parameters":[{"name":"map_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by map ID","title":"Map Id"},"description":"Filter by map ID"},{"name":"map_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by map name","title":"Map Name"},"description":"Filter by map name"},{"name":"map_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by list of map IDs","title":"Map Ids"},"description":"Filter by list of map IDs"},{"name":"map_names","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Filter by list of map names","title":"Map Names"},"description":"Filter by list of map names"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Offset for pagination","default":0,"title":"Offset"},"description":"Offset for pagination"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"description":"Limit for pagination (max 10000)","default":100,"title":"Limit"},"description":"Limit for pagination (max 10000)"},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/MapReviewsSortBy"},{"type":"null"}],"description":"Sort field: map_id (default), overall_count, overall_avg_stars, visuals_avg_stars, gameplay_avg_stars, comment_count, last_starred, last_comment","title":"Sort By"},"description":"Sort field: map_id (default), overall_count, overall_avg_stars, visuals_avg_stars, gameplay_avg_stars, comment_count, last_starred, last_comment"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapReviewsSummaryPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/maps/reviews":{"get":{"tags":["Maps","Reviews"],"summary":"Get Reviews","description":"Get paginated reviews with filters.\nSupports filtering by map_id, map_name, steamid64, lang, primary_mode.\nDefault sort: updated_at DESC (latest first).","operationId":"Maps-get_reviews","parameters":[{"name":"map_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by map ID","title":"Map Id"},"description":"Filter by map ID"},{"name":"map_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by map name","title":"Map Name"},"description":"Filter by map name"},{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by player SteamID64","title":"Steamid64"},"description":"Filter by player SteamID64"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset","default":0,"title":"Offset"},"description":"Pagination offset"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Pagination limit","default":100,"title":"Limit"},"description":"Pagination limit"},{"name":"comments_only","in":"query","required":false,"schema":{"type":"boolean","description":"Filter reviews that have comments","default":false,"title":"Comments Only"},"description":"Filter reviews that have comments"},{"name":"lang","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by language code (en, zh, ru)","title":"Lang"},"description":"Filter by language code (en, zh, ru)"},{"name":"primary_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by reviewer's primary mode (KZT, SKZ, VNL)","title":"Primary Mode"},"description":"Filter by reviewer's primary mode (KZT, SKZ, VNL)"},{"name":"sort","in":"query","required":false,"schema":{"type":"string","description":"Sort order (default: latest)","default":"latest","title":"Sort"},"description":"Sort order (default: latest)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapReviewsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Maps","Reviews"],"summary":"Update Review","description":"Update a review (upsert).\nRequires authentication. Only one review per player per map.\nTo delete a review, PUT with comments set to null.\n\nFor server-side plugins: Use API key authentication and provide steamid64 query parameter to update review on behalf of a player.","operationId":"Maps-update_review","security":[{"HTTPBearer":[]}],"parameters":[{"name":"map_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Map ID (required if map_name not provided)","title":"Map Id"},"description":"Map ID (required if map_name not provided)"},{"name":"map_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Map name (required if map_id not provided)","title":"Map Name"},"description":"Map name (required if map_id not provided)"},{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"SteamID64 of the player (for server-side plugins using API keys)","title":"Steamid64"},"description":"SteamID64 of the player (for server-side plugins using API keys)"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapReviewUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapReviewPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/maps/{id}":{"get":{"tags":["Maps"],"summary":"Read Map","description":"Get map by ID.","operationId":"Maps-read_map","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapSimple"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/maps/name/{map_name}":{"get":{"tags":["Maps"],"summary":"Read Map By Name","description":"Get map by name.","operationId":"Maps-read_map_by_name","parameters":[{"name":"map_name","in":"path","required":true,"schema":{"type":"string","title":"Map Name"}},{"name":"include_wr_cache","in":"query","required":false,"schema":{"type":"boolean","description":"Include World Record cache data","default":true,"title":"Include Wr Cache"},"description":"Include World Record cache data"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/maps/{map_identifier}/wr-cache-v2":{"get":{"tags":["Maps"],"summary":"Read Map Wr Cache V2","description":"Get WR cache v2 for a map.\nSupports map_id (int) or map_name (string).\nReturns list of WR cache entries (overall and pro) for all modes.","operationId":"Maps-read_map_wr_cache_v2","parameters":[{"name":"map_identifier","in":"path","required":true,"schema":{"type":"string","title":"Map Identifier"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MapWRCacheV2Public"},"title":"Response Maps-Read Map Wr Cache V2"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/maps/sync":{"post":{"tags":["Maps"],"summary":"Sync Maps From Globalapi","description":"Trigger a sync against GlobalAPI to insert new maps and refresh existing ones.","operationId":"Maps-sync_maps_from_globalapi","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"integer"},"type":"object","title":"Response Maps-Sync Maps From Globalapi"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/maps/{map_identifier}":{"put":{"tags":["Maps"],"summary":"Update Map","description":"Update map authors, no_steamid_names, validated, and difficulty (admin only).\nSupports map_id (int) or map_name (string).","operationId":"Maps-update_map","security":[{"HTTPBearer":[]}],"parameters":[{"name":"map_identifier","in":"path","required":true,"schema":{"type":"string","title":"Map Identifier"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modes":{"get":{"tags":["Modes"],"summary":"Read Modes","description":"Retrieve modes.","operationId":"Modes-read_modes","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ModePublic"},"title":"Response Modes-Read Modes"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modes/id/{id}":{"get":{"tags":["Modes"],"summary":"Read Mode","description":"Get mode by ID.","operationId":"Modes-read_mode","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/modes/name/{mode_name}":{"get":{"tags":["Modes"],"summary":"Read Mode By Name","description":"Get mode by name.","operationId":"Modes-read_mode_by_name","parameters":[{"name":"mode_name","in":"path","required":true,"schema":{"type":"string","title":"Mode Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModePublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players":{"get":{"tags":["Players"],"summary":"Read Players","description":"Retrieve players with optional search and sorting.\nSearch can be:\n- Steam ID64 or any Steam ID format (will be converted)\n- Alias or name (case-insensitive partial match)\n\nSorting:\n- order_by: 'created_at', 'updated_at', or 'last_seen' (default: 'last_seen')\n- order_direction: 'asc' or 'desc' (default: 'desc')\n\nAll players will have a rating field. If a player is not on the leaderboards,\nrating will be set to 0.","operationId":"Players-read_players","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort field: 'created_at', 'updated_at', or 'last_seen' (default: 'last_seen')","title":"Order By"},"description":"Sort field: 'created_at', 'updated_at', or 'last_seen' (default: 'last_seen')"},{"name":"order_direction","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort direction: 'asc' or 'desc' (default: 'desc')","title":"Order Direction"},"description":"Sort direction: 'asc' or 'desc' (default: 'desc')"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PlayerPublic"},"title":"Response Players-Read Players"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/count":{"get":{"tags":["Players"],"summary":"Get Players Count","description":"Get total count of players, optionally filtered by search.","operationId":"Players-get_players_count","parameters":[{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Players-Get Players Count"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/admin/likes":{"get":{"tags":["Players"],"summary":"Get All Likes Admin","description":"Get all player likes across all players (admin only).\nOrdered by updated_at DESC (latest first).","operationId":"Players-get_all_likes_admin","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerLikesAdminPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/admin/likes/top-received":{"get":{"tags":["Players"],"summary":"Get Top Liked Players Admin","description":"Get players sorted by total likes received (admin only).\nOnly shows players with likes > 0.\nOrdered by total likes DESC (most liked first).","operationId":"Players-get_top_liked_players_admin","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerLikesAdminPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/search/{query}":{"get":{"tags":["Players"],"summary":"Search Players With Points","description":"Search for players by Steam ID, alias, or name.\n\nSearch logic:\n1. If query is a valid Steam2 or SteamID64 format, fetch that player directly\n2. Search by player alias (case-insensitive partial match)\n3. Search by player name (case-insensitive partial match)\n4. Include points from their primary mode leaderboard entry\n5. Order by points descending when multiple players have the same name\n6. Default limit to 10 results\n\nReturns list of players with their primary mode leaderboard points.","operationId":"Players-search_players_with_points","parameters":[{"name":"query","in":"path","required":true,"schema":{"type":"string","title":"Query"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"description":"Maximum number of results to return","default":10,"title":"Limit"},"description":"Maximum number of results to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/app__models__PlayerSearchResult"},"title":"Response Players-Search Players With Points"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}":{"get":{"tags":["Players"],"summary":"Read Player","description":"Get player by Steam ID64.\nIf player profile_updated_at is older than 1 week, asynchronously updates their profile via Steam API.\nIf player exists but avatar_hash is missing, attempts to fetch from Steam API.","operationId":"Players-read_player","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Players"],"summary":"Upsert Player From Steam","description":"Upsert player from Steam API.\nUses steamid64 from path, but supports steam_id query parameter for backward compatibility.\nIf steam_id is provided, it will be converted to steamid64 (supports steam2 format, Steam profile URLs, etc.).\nOtherwise, uses the steamid64 from the path parameter directly.","operationId":"Players-upsert_player_from_steam","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"steam_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional Steam ID (steam2 format or other) for conversion. If provided, will be converted to steamid64. Otherwise, uses steamid64 from path.","title":"Steam Id"},"description":"Optional Steam ID (steam2 format or other) for conversion. If provided, will be converted to steamid64. Otherwise, uses steamid64 from path."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Players"],"summary":"Update Player","description":"Update player (superuser only). Only allows updating alias and country fields.","operationId":"Players-update_player","security":[{"HTTPBearer":[]}],"parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/is_server_owner/{steamid64}":{"get":{"tags":["Players"],"summary":"Is Server Owner","description":"Check if a player is a server owner.\nFirst checks if they have the server_owner role, otherwise falls back to checking server ownership.","operationId":"Players-is_server_owner","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"boolean","title":"Response Players-Is Server Owner"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/steam/{steamid64_or_steam2}":{"post":{"tags":["Players"],"summary":"Create Player From Steam","description":"Create or update player from Steam API.\nAccepts steamid64 (string), steam2 format (e.g., \"STEAM_1:0:1234\"), or Steam profile URLs.","operationId":"Players-create_player_from_steam","parameters":[{"name":"steamid64_or_steam2","in":"path","required":true,"schema":{"type":"string","title":"Steamid64 Or Steam2"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{identifier}":{"post":{"tags":["Players"],"summary":"Create Player By Identifier","description":"Create or update player from Steam API using any Steam identifier format.\nAccepts:\n- steamid64 (string): \"76561198003275950\"\n- steamid2 format: \"STEAM_1:0:1234\"\n- Steam profile URL with steamid64: \"https://steamcommunity.com/profiles/76561198003275950\"\n- Steam profile URL with custom ID: \"https://steamcommunity.com/id/cinyan10/\"","operationId":"Players-create_player_by_identifier","parameters":[{"name":"identifier","in":"path","required":true,"schema":{"type":"string","title":"Identifier"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/records/update":{"post":{"tags":["Players"],"summary":"Update Player Records","description":"Fetch all records for a player from globalapi and create/update them in the database.\nAnyone can update any player's records, but rate limiting applies (1 minute cooldown per player).\nOptionally update only a single mode.\nWill call the API with has_teleports=true and has_teleports=false for each mode.","operationId":"Players-update_player_records","security":[{"HTTPBearer":[]}],"parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"mode","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/Mode"},{"type":"null"}],"description":"Restrict update to a single mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive).","title":"Mode"},"description":"Restrict update to a single mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Players-Update Player Records"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/sync/profiles/start":{"post":{"tags":["Players"],"summary":"Start Player Profile Sync","operationId":"Players-start_player_profile_sync","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Players-Start Player Profile Sync"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/players/sync/profiles/stop":{"post":{"tags":["Players"],"summary":"Stop Player Profile Sync","operationId":"Players-stop_player_profile_sync","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Players-Stop Player Profile Sync"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/players/sync/profiles/status":{"get":{"tags":["Players"],"summary":"Get Player Profile Sync Status Route","operationId":"Players-get_player_profile_sync_status_route","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Players-Get Player Profile Sync Status Route"}}}}}}},"/api/v1/players/sync/profiles/trigger":{"post":{"tags":["Players"],"summary":"Trigger Player Profile Sync","operationId":"Players-trigger_player_profile_sync","security":[{"HTTPBearer":[]}],"parameters":[{"name":"batch_size","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"title":"Batch Size"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Players-Trigger Player Profile Sync"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/friends":{"get":{"tags":["Players"],"summary":"Get Player Friends","description":"Get friends list for a player (public endpoint).","operationId":"Players-get_player_friends","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerFriendsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/friends/check":{"get":{"tags":["Players"],"summary":"Check Friends Sync Status","description":"Check if friends need to be synced for a player.\nReturns sync status and last sync time.","operationId":"Players-check_friends_sync_status","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Players-Check Friends Sync Status"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/friends/sync":{"post":{"tags":["Players"],"summary":"Sync Player Friends","description":"Trigger manual friends sync for a player.\nOnly the player themselves can trigger sync for their account.","operationId":"Players-sync_player_friends","security":[{"HTTPBearer":[]}],"parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Players-Sync Player Friends"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/comments":{"get":{"tags":["Players"],"summary":"Get Player Comments","description":"Get all map comments and ratings for a player (public endpoint).","operationId":"Players-get_player_comments","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":100,"title":"Limit"}},{"name":"include_ratings_only","in":"query","required":false,"schema":{"type":"boolean","description":"Include ratings without comments","default":true,"title":"Include Ratings Only"},"description":"Include ratings without comments"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MapCommentsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/recap":{"get":{"tags":["Players"],"summary":"Get Player Recap","description":"Get player recap statistics for the current year including:\n- Total records (all time)\n- Records count for current year\n- Records count for previous year (for comparison)\n- Records by month for current year (bar chart data)\n- Records by mode (KZT, SKZ, VNL) pie chart data\n\nResults are cached in the database. Use force_refresh=true to regenerate.","operationId":"Players-get_player_recap","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"force_refresh","in":"query","required":false,"schema":{"type":"boolean","description":"Force refresh of cached data","default":false,"title":"Force Refresh"},"description":"Force refresh of cached data"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Players-Get Player Recap"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/stats":{"get":{"tags":["Players"],"summary":"Get Player Stats","description":"Get player statistics including:\n- Total records (all time)\n- Total runtime (all time)\n- Active days (all time)\n- Unique maps by mode (all time)\n- Records in the last 12 months (for chart)\n\nResults are cached in the database and updated daily. Use force_refresh=true to regenerate immediately.","operationId":"Players-get_player_stats","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"force_refresh","in":"query","required":false,"schema":{"type":"boolean","description":"Force refresh of cached data","default":false,"title":"Force Refresh"},"description":"Force refresh of cached data"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Players-Get Player Stats"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/rating/":{"post":{"tags":["Players"],"summary":"Update Player Rating","description":"Calculate and update player rating for a specific mode.\n\nPublic endpoint - anyone can trigger rating calculation for any player.\n\nRating is calculated from all map points (both Overall and Pro) using:\n1. Base = Sum(points * 0.975^(n-1)) * 0.1\n2. Rating = 1 + (Base * 0.0025)\n\nThe calculation process:\n1. Fetches all Overall PB records (best times with any teleports) -> uses points_overall\n2. Fetches all Pro PB records (best times without teleports) -> uses points_pro\n3. Combines all points into a single list\n4. Sorts points descending\n5. Applies decay factor: 0.975^(n-1) for each position\n6. Multiplies sum by 0.1 to get base rating (0-4,000)\n7. Caps base at 40,000\n8. Applies final scaling: rating = 1 + (base * 0.0025) -> gives 1-101 range\n\nReturns:\n    - steamid64: Player's Steam ID\n    - mode: Mode short code (KZT, SKZ, VNL)\n    - rating: Calculated rating value (float, 1-101 with 6 decimal places)\n    - overall_records: Count of overall PB records\n    - pro_records: Count of pro PB records\n    - total_points_used: Total number of point values used in calculation\n    - top_points: Top 10 point values used (for verification)\n    - updated_at: Timestamp of leaderboard update","operationId":"Players-update_player_rating","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"mode","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Mode","description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},"description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Players-Update Player Rating"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/like":{"post":{"tags":["Players"],"summary":"Like Player","description":"Like a player.\nRequires authentication. Users can like up to 10 times per day per target player.\nCannot like yourself.\nThe count parameter allows adding multiple likes at once (useful for debounced rapid clicks).","operationId":"Players-like_player","security":[{"HTTPBearer":[]}],"parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"count","in":"query","required":false,"schema":{"type":"integer","maximum":10,"minimum":1,"description":"Number of likes to add (1-10)","default":1,"title":"Count"},"description":"Number of likes to add (1-10)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerLikesPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/likes":{"get":{"tags":["Players"],"summary":"Get Player Likes","description":"Get likes count for a player.\nPublic endpoint. If authenticated, also returns current user's likes given today.","operationId":"Players-get_player_likes","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerLikesPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/players/{steamid64}/likers":{"get":{"tags":["Players"],"summary":"Get Player Likers","description":"Get all players who liked this player (public endpoint).\nOrdered by updated_at DESC (most recent first).","operationId":"Players-get_player_likers","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerLikersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/player-sessions/connect":{"post":{"tags":["Player Sessions"],"summary":"Connect Player Session","description":"Create a new player session (player connected to server).\nRequires API key authentication. server_group_id is automatically set from the API key.","operationId":"Player Sessions-connect_player_session","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerSessionCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerSessionPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/player-sessions/disconnect":{"post":{"tags":["Player Sessions"],"summary":"Disconnect Player Session","description":"Disconnect a player session (player disconnected from server).\nRequires API key authentication. Finds the most recent active session for the player/server_group.","operationId":"Player Sessions-disconnect_player_session","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerSessionDisconnect"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerSessionPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/player-sessions/":{"get":{"tags":["Player Sessions"],"summary":"Get Player Sessions","description":"Get player sessions with optional filtering.\nIf authenticated, users can only see their own sessions (IP addresses excluded).","operationId":"Player Sessions-get_player_sessions","parameters":[{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by player Steam ID64","title":"Steamid64"},"description":"Filter by player Steam ID64"},{"name":"server_group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by server group ID","title":"Server Group Id"},"description":"Filter by server group ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter sessions starting from this date (UTC)","title":"Start Date"},"description":"Filter sessions starting from this date (UTC)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter sessions ending before this date (UTC)","title":"End Date"},"description":"Filter sessions ending before this date (UTC)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerSessionsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/player-sessions/admin":{"get":{"tags":["Player Sessions"],"summary":"Get All Player Sessions Admin","description":"Get all player sessions with enriched data (admin only).\nIncludes server group name and player name.","operationId":"Player Sessions-get_all_player_sessions_admin","security":[{"HTTPBearer":[]}],"parameters":[{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by player Steam ID64","title":"Steamid64"},"description":"Filter by player Steam ID64"},{"name":"server_group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by server group ID","title":"Server Group Id"},"description":"Filter by server group ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter sessions starting from this date (UTC)","title":"Start Date"},"description":"Filter sessions starting from this date (UTC)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter sessions ending before this date (UTC)","title":"End Date"},"description":"Filter sessions ending before this date (UTC)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerSessionsAdminPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/player-sessions/{session_id}":{"get":{"tags":["Player Sessions"],"summary":"Get Player Session","description":"Get a specific player session by ID.\nIf authenticated, users can only see their own sessions.","operationId":"Player Sessions-get_player_session","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerSessionPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/player-sessions/players/{steamid64}/sessions":{"get":{"tags":["Player Sessions"],"summary":"Get Player Sessions By Steamid64","description":"Get all sessions for a specific player.\nIf authenticated, users can only see their own sessions.","operationId":"Player Sessions-get_player_sessions_by_steamid64","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"server_group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by server group ID","title":"Server Group Id"},"description":"Filter by server group ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter sessions starting from this date (UTC)","title":"Start Date"},"description":"Filter sessions starting from this date (UTC)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter sessions ending before this date (UTC)","title":"End Date"},"description":"Filter sessions ending before this date (UTC)"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerSessionsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/player-sessions/players/{steamid64}/playtime":{"get":{"tags":["Player Sessions"],"summary":"Get Player Playtime","description":"Get total playtime for a player.\nOnly counts completed sessions (sessions with disconnect_time).\nIf authenticated, users can only see their own playtime.","operationId":"Player Sessions-get_player_playtime","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"server_group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"description":"Filter by server group ID","title":"Server Group Id"},"description":"Filter by server group ID"},{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter sessions starting from this date (UTC)","title":"Start Date"},"description":"Filter sessions starting from this date (UTC)"},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Filter sessions ending before this date (UTC)","title":"End Date"},"description":"Filter sessions ending before this date (UTC)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Player Sessions-Get Player Playtime"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/servers":{"get":{"tags":["Servers"],"summary":"Read Servers","description":"Retrieve servers.","operationId":"Servers-read_servers","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"is_globalled","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by globalled status","title":"Is Globalled"},"description":"Filter by globalled status"},{"name":"order_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Field to order by","default":"id","title":"Order By"},"description":"Field to order by"},{"name":"order_direction","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort direction: asc or desc","default":"desc","title":"Order Direction"},"description":"Sort direction: asc or desc"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/servers/count":{"get":{"tags":["Servers"],"summary":"Get Servers Count","description":"Get total count of servers.","operationId":"Servers-get_servers_count","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Servers-Get Servers Count"}}}}}}},"/api/v1/servers/name/{server_name}":{"get":{"tags":["Servers"],"summary":"Search Servers By Name","description":"Search servers by name with optional is_globalled filter.","operationId":"Servers-search_servers_by_name","parameters":[{"name":"server_name","in":"path","required":true,"schema":{"type":"string","title":"Server Name"}},{"name":"is_globalled","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by globalled status (only globalled servers if True)","title":"Is Globalled"},"description":"Filter by globalled status (only globalled servers if True)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/servers/{server_id}":{"get":{"tags":["Server Status"],"summary":"Get Server Status","description":"Get server status by server ID.","operationId":"Server Status-get_server_status","parameters":[{"name":"server_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Server Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerStatusPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/public-servers/":{"get":{"tags":["Public Servers"],"summary":"List Public Servers","operationId":"Public Servers-list_public_servers","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicServersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Public Servers"],"summary":"Create Public Server","operationId":"Public Servers-create_public_server","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicServerCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicServerPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/public-servers/{server_id}":{"get":{"tags":["Public Servers"],"summary":"Get Public Server","operationId":"Public Servers-get_public_server","security":[{"HTTPBearer":[]}],"parameters":[{"name":"server_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Server Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicServerPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Public Servers"],"summary":"Update Public Server","operationId":"Public Servers-update_public_server","security":[{"HTTPBearer":[]}],"parameters":[{"name":"server_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Server Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicServerUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicServerPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Public Servers"],"summary":"Delete Public Server","operationId":"Public Servers-delete_public_server","security":[{"HTTPBearer":[]}],"parameters":[{"name":"server_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Server Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/public-servers/status/":{"post":{"tags":["Public Servers","Server Status"],"summary":"Push Server Status","description":"Push server status update from the server itself.\nRequires API key authentication. The API key owner must match the server owner.","operationId":"Public Servers-push_server_status","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerStatusPushRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/server-groups/":{"get":{"tags":["Server Groups"],"summary":"List Server Groups","operationId":"Server Groups-list_server_groups","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerGroupsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Server Groups"],"summary":"Create Server Group","operationId":"Server Groups-create_server_group","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerGroupCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerGroupPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/server-groups/{group_id}":{"get":{"tags":["Server Groups"],"summary":"Get Server Group","operationId":"Server Groups-get_server_group","security":[{"HTTPBearer":[]}],"parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Group Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerGroupPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Server Groups"],"summary":"Update Server Group","operationId":"Server Groups-update_server_group","security":[{"HTTPBearer":[]}],"parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Group Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerGroupUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerGroupPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Server Groups"],"summary":"Delete Server Group","operationId":"Server Groups-delete_server_group","security":[{"HTTPBearer":[]}],"parameters":[{"name":"group_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Group Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/servers/":{"get":{"tags":["Server Status"],"summary":"List Server Statuses","description":"Get all cached server statuses with player information.","operationId":"Server Status-list_server_statuses","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ServerStatusesPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api-keys/":{"get":{"tags":["API Keys"],"summary":"List Api Keys","operationId":"API Keys-list_api_keys","security":[{"HTTPBearer":[]}],"parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeysPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["API Keys"],"summary":"Create Api Key","operationId":"API Keys-create_api_key","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreate"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api-keys/{key_id}/reveal":{"get":{"tags":["API Keys"],"summary":"Reveal Api Key","operationId":"API Keys-reveal_api_key","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyReveal"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api-keys/{key_id}":{"delete":{"tags":["API Keys"],"summary":"Revoke Api Key","operationId":"API Keys-revoke_api_key","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api-keys/{key_id}/delete":{"delete":{"tags":["API Keys"],"summary":"Delete Api Key","operationId":"API Keys-delete_api_key","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Key Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/settings":{"get":{"tags":["Settings"],"summary":"Read Settings","description":"Retrieve all settings. Admin only.","operationId":"Settings-read_settings","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/SettingPublic"},"type":"array","title":"Response Settings-Read Settings"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["Settings"],"summary":"Create Setting","description":"Create new setting. Admin only.","operationId":"Settings-create_setting","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/settings/{key}":{"get":{"tags":["Settings"],"summary":"Read Setting","description":"Get setting by key. Admin only.","operationId":"Settings-read_setting","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Settings"],"summary":"Update Setting","description":"Update setting by key. Admin only.","operationId":"Settings-update_setting","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key","in":"path","required":true,"schema":{"type":"string","title":"Key"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/top":{"get":{"tags":["Records"],"summary":"Read Records","description":"Get top PB (Personal Best) records.\nReturns only the fastest record for each (steamid64, map_id, mode_id, stage, has_teleports) combination.\nIf has_teleports is not provided, returns overall PB (best time regardless of teleports).\nIf has_teleports=true, returns TP records only (has teleports).\nIf has_teleports=false, returns PRO records only (no teleports).","operationId":"Records-read_records","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":100,"title":"Limit"}},{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Steamid64"}},{"name":"server_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Server Id"}},{"name":"map_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Map Id"}},{"name":"map_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Map Name"}},{"name":"map_name_list","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Map Name List"}},{"name":"mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive).","title":"Mode"},"description":"Filter by mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},{"name":"stage","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Stage"}},{"name":"stage_type","in":"query","required":false,"schema":{"anyOf":[{"enum":["main","bonus"],"type":"string"},{"type":"null"}],"title":"Stage Type"}},{"name":"has_teleports","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by teleports: true (TP - has teleports), false (PRO - no teleports). If not provided, returns overall PB (best time regardless of teleports).","title":"Has Teleports"},"description":"Filter by teleports: true (TP - has teleports), false (PRO - no teleports). If not provided, returns overall PB (best time regardless of teleports)."},{"name":"exclude_invalid_maps","in":"query","required":false,"schema":{"type":"boolean","description":"Exclude records from maps where validated=False (non-global maps)","default":true,"title":"Exclude Invalid Maps"},"description":"Exclude records from maps where validated=False (non-global maps)"},{"name":"exclude_invalid_record","in":"query","required":false,"schema":{"type":"boolean","description":"Exclude records where validated=False (invalid runs)","default":true,"title":"Exclude Invalid Record"},"description":"Exclude records where validated=False (invalid runs)"},{"name":"exclude_cheaters","in":"query","required":false,"schema":{"type":"boolean","description":"Exclude records from players with active bans (cheaters)","default":true,"title":"Exclude Cheaters"},"description":"Exclude records from players with active bans (cheaters)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecordPublic"},"title":"Response Records-Read Records"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Records"],"summary":"Update Records From Globalapi","description":"Fetch records from globalapi /records/top and create/update them in the database.\nQuery params are passed directly to globalapi /records/top endpoint.\nIf has_teleports is not provided, updates both true and false.","operationId":"Records-update_records_from_globalapi","parameters":[{"name":"mode","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Mode","description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},"description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by Steam ID64","title":"Steamid64"},"description":"Filter by Steam ID64"},{"name":"map_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by map name","title":"Map Name"},"description":"Filter by map name"},{"name":"map_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by map ID","title":"Map Id"},"description":"Filter by map ID"},{"name":"has_teleports","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by teleports: true (has teleports), false (no teleports). If not provided, updates both true and false.","title":"Has Teleports"},"description":"Filter by teleports: true (has teleports), false (no teleports). If not provided, updates both true and false."},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":9999,"minimum":1,"description":"Maximum number of records to fetch","default":9999,"title":"Limit"},"description":"Maximum number of records to fetch"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Records-Update Records From Globalapi"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/recent":{"get":{"tags":["Records"],"summary":"Read Recent Records","description":"Get recent records sorted by id DESC (newest first).\nReturns the latest records matching the filters.\nCan filter by either server_id or server_group_id (not both).","operationId":"Records-read_recent_records","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":100,"title":"Limit"}},{"name":"map_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by map ID","title":"Map Id"},"description":"Filter by map ID"},{"name":"map_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by map name","title":"Map Name"},"description":"Filter by map name"},{"name":"tier","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by tier (difficulty)","title":"Tier"},"description":"Filter by tier (difficulty)"},{"name":"mode","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Mode: KZT, SKZ, or VNL","title":"Mode"},"description":"Mode: KZT, SKZ, or VNL"},{"name":"has_teleports","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by teleports: true/tp (has teleports), false/pro (no teleports)","title":"Has Teleports"},"description":"Filter by teleports: true/tp (has teleports), false/pro (no teleports)"},{"name":"points_min","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by minimum points","title":"Points Min"},"description":"Filter by minimum points"},{"name":"points_overall_min","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by minimum points_overall","title":"Points Overall Min"},"description":"Filter by minimum points_overall"},{"name":"points_pro_min","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by minimum points_pro","title":"Points Pro Min"},"description":"Filter by minimum points_pro"},{"name":"server_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by server ID","title":"Server Id"},"description":"Filter by server ID"},{"name":"server_group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by server group ID (UUID)","title":"Server Group Id"},"description":"Filter by server group ID (UUID)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecordPublic"},"title":"Response Records-Read Recent Records"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/":{"get":{"tags":["Records"],"summary":"Read All Records","description":"Get all records (admin only).\nReturns all records matching the filters, not just PB records.\nBy default, includes invalid records and cheaters (exclude_invalid_record=False, exclude_cheaters=False).","operationId":"Records-read_all_records","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":100,"title":"Limit"}},{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Steamid64"}},{"name":"server_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Server Id"}},{"name":"map_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Map Id"}},{"name":"map_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Map Name"}},{"name":"map_name_list","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Map Name List"}},{"name":"mode","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/Mode"},{"type":"null"}],"description":"Filter by mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive).","title":"Mode"},"description":"Filter by mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},{"name":"stage","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Stage"}},{"name":"stage_type","in":"query","required":false,"schema":{"anyOf":[{"enum":["main","bonus"],"type":"string"},{"type":"null"}],"title":"Stage Type"}},{"name":"has_teleports","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by whether record has teleports (true=has teleports, false=no teleports)","title":"Has Teleports"},"description":"Filter by whether record has teleports (true=has teleports, false=no teleports)"},{"name":"exclude_invalid_maps","in":"query","required":false,"schema":{"type":"boolean","description":"Exclude records from maps where validated=False (non-global maps)","default":false,"title":"Exclude Invalid Maps"},"description":"Exclude records from maps where validated=False (non-global maps)"},{"name":"exclude_invalid_record","in":"query","required":false,"schema":{"type":"boolean","description":"Exclude records where validated=False (invalid runs)","default":false,"title":"Exclude Invalid Record"},"description":"Exclude records where validated=False (invalid runs)"},{"name":"exclude_cheaters","in":"query","required":false,"schema":{"type":"boolean","description":"Exclude records from players with active bans (cheaters)","default":false,"title":"Exclude Cheaters"},"description":"Exclude records from players with active bans (cheaters)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecordPublic"},"title":"Response Records-Read All Records"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/map/{map_name}":{"get":{"tags":["Records"],"summary":"Read Map Leaderboard","description":"Get top PB (Personal Best) records for a specific map, mode, and stage.\nReturns the best record for each player, ordered by time (fastest first).\nOptimized for leaderboard display.\n\nWhen friends_only=true, only records from the viewer's friends and the viewer themselves are returned.\nYou can filter by either server_id or server_group_id, but not both.\nYou can filter by either country or region, but not both.","operationId":"Records-read_map_leaderboard","parameters":[{"name":"map_name","in":"path","required":true,"schema":{"type":"string","title":"Map Name"}},{"name":"mode","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Mode","description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},"description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},{"name":"stage","in":"query","required":true,"schema":{"type":"integer","minimum":0,"description":"Stage number (0 for main stage)","title":"Stage"},"description":"Stage number (0 for main stage)"},{"name":"has_teleports","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by whether record has teleports (true=has teleports, false=no teleports)","title":"Has Teleports"},"description":"Filter by whether record has teleports (true=has teleports, false=no teleports)"},{"name":"server_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by server ID","title":"Server Id"},"description":"Filter by server ID"},{"name":"server_group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by server group ID (UUID)","title":"Server Group Id"},"description":"Filter by server group ID (UUID)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of records to return (max 100)","default":100,"title":"Limit"},"description":"Maximum number of records to return (max 100)"},{"name":"friends_only","in":"query","required":false,"schema":{"type":"boolean","description":"Filter to show only friends' records","default":false,"title":"Friends Only"},"description":"Filter to show only friends' records"},{"name":"viewer_steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Viewer's Steam ID (required when friends_only=true)","title":"Viewer Steamid64"},"description":"Viewer's Steam ID (required when friends_only=true)"},{"name":"country","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by country code (ISO 3166-1 alpha-2, mutually exclusive with region)","title":"Country"},"description":"Filter by country code (ISO 3166-1 alpha-2, mutually exclusive with region)"},{"name":"region","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by region code (mutually exclusive with country)","title":"Region"},"description":"Filter by region code (mutually exclusive with country)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/RecordPublic"},"title":"Response Records-Read Map Leaderboard"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/map/{map_name}/player-count":{"get":{"tags":["Records"],"summary":"Get Map Player Count","description":"Count unique players who have finished a map in a specific mode and stage.\nFor TP mode (has_teleports=true), counts players with teleports > 0.\nFor PRO mode (has_teleports=false), counts players with teleports = 0.\nFor Overall mode (has_teleports=None), counts all players regardless of teleports.\n\nNote: Only counts records for the specified mode and stage (typically stage=0 for main stage finishes).\nYou can filter by either server_id or server_group_id, but not both.\nYou can filter by either country or region, but not both.","operationId":"Records-get_map_player_count","parameters":[{"name":"map_name","in":"path","required":true,"schema":{"type":"string","title":"Map Name"}},{"name":"mode","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Mode","description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},"description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},{"name":"stage","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Stage number (0 for main stage)","default":0,"title":"Stage"},"description":"Stage number (0 for main stage)"},{"name":"has_teleports","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by whether record has teleports (true=TP, false=PRO, None=Overall/all)","title":"Has Teleports"},"description":"Filter by whether record has teleports (true=TP, false=PRO, None=Overall/all)"},{"name":"server_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by server ID","title":"Server Id"},"description":"Filter by server ID"},{"name":"server_group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by server group ID (UUID)","title":"Server Group Id"},"description":"Filter by server group ID (UUID)"},{"name":"friends_only","in":"query","required":false,"schema":{"type":"boolean","description":"Filter to show only friends' records","default":false,"title":"Friends Only"},"description":"Filter to show only friends' records"},{"name":"viewer_steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Viewer's Steam ID (required when friends_only=true)","title":"Viewer Steamid64"},"description":"Viewer's Steam ID (required when friends_only=true)"},{"name":"country","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by country code (ISO 3166-1 alpha-2, mutually exclusive with region)","title":"Country"},"description":"Filter by country code (ISO 3166-1 alpha-2, mutually exclusive with region)"},{"name":"region","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by region code (mutually exclusive with country)","title":"Region"},"description":"Filter by region code (mutually exclusive with country)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Records-Get Map Player Count"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/map/{map_name}/player-rank":{"get":{"tags":["Records"],"summary":"Get Player Rank On Map","description":"Get a player's rank among all players who finished a map in a specific mode and stage.\nReturns None if the player hasn't finished the map.\nRank is 1-based (1 = first place).\nFor Overall mode (has_teleports=None), ranks based on best time regardless of teleports.\nYou can filter by either server_id or server_group_id, but not both.\nYou can filter by either country or region, but not both.\n\nNote: Only counts records for the specified mode and stage (typically stage=0 for main stage finishes).","operationId":"Records-get_player_rank_on_map","parameters":[{"name":"map_name","in":"path","required":true,"schema":{"type":"string","title":"Map Name"}},{"name":"steamid64","in":"query","required":true,"schema":{"type":"string","description":"Player's Steam ID64","title":"Steamid64"},"description":"Player's Steam ID64"},{"name":"mode","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Mode","description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},"description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},{"name":"stage","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Stage number (0 for main stage)","default":0,"title":"Stage"},"description":"Stage number (0 for main stage)"},{"name":"has_teleports","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by whether record has teleports (true=TP, false=PRO, None=Overall/all)","title":"Has Teleports"},"description":"Filter by whether record has teleports (true=TP, false=PRO, None=Overall/all)"},{"name":"server_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by server ID","title":"Server Id"},"description":"Filter by server ID"},{"name":"server_group_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by server group ID (UUID)","title":"Server Group Id"},"description":"Filter by server group ID (UUID)"},{"name":"friends_only","in":"query","required":false,"schema":{"type":"boolean","description":"Filter to show only friends' records","default":false,"title":"Friends Only"},"description":"Filter to show only friends' records"},{"name":"viewer_steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Viewer's Steam ID (required when friends_only=true)","title":"Viewer Steamid64"},"description":"Viewer's Steam ID (required when friends_only=true)"},{"name":"country","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by country code (ISO 3166-1 alpha-2, mutually exclusive with region)","title":"Country"},"description":"Filter by country code (ISO 3166-1 alpha-2, mutually exclusive with region)"},{"name":"region","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by region code (mutually exclusive with country)","title":"Region"},"description":"Filter by region code (mutually exclusive with country)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Records-Get Player Rank On Map"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/count":{"get":{"tags":["Records"],"summary":"Get Records Count","operationId":"Records-get_records_count","parameters":[{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Steamid64"}},{"name":"server_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Server Id"}},{"name":"map_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Map Id"}},{"name":"map_name","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Map Name"}},{"name":"map_name_list","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"title":"Map Name List"}},{"name":"mode","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/Mode"},{"type":"null"}],"description":"Filter by mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive).","title":"Mode"},"description":"Filter by mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},{"name":"stage","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Stage"}},{"name":"stage_type","in":"query","required":false,"schema":{"anyOf":[{"enum":["main","bonus"],"type":"string"},{"type":"null"}],"title":"Stage Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"integer","title":"Response Records-Get Records Count"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/{id}":{"get":{"tags":["Records"],"summary":"Read Record","operationId":"Records-read_record","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Records"],"summary":"Create Record From Globalapi","operationId":"Records-create_record_from_globalapi","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/bulk-set-validated":{"patch":{"tags":["Records"],"summary":"Bulk Set Records Validated","description":"Set the validated status for multiple records (admin only).\nThis sets the status explicitly (does not toggle).","operationId":"Records-bulk_set_records_validated","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BulkSetValidatedRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Records-Bulk Set Records Validated"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/records/{id}/toggle-validated":{"patch":{"tags":["Records"],"summary":"Toggle Record Validated","description":"Toggle the validated status of a record (admin only).\nThis is a convenience endpoint that uses the bulk endpoint internally.","operationId":"Records-toggle_record_validated","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/records/sync/start":{"post":{"tags":["Records"],"summary":"Start Records Sync","operationId":"Records-start_records_sync","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Records-Start Records Sync"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/records/sync/stop":{"post":{"tags":["Records"],"summary":"Stop Records Sync","operationId":"Records-stop_records_sync","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Records-Stop Records Sync"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/records/sync/status":{"get":{"tags":["Records"],"summary":"Get Records Sync Status Route","operationId":"Records-get_records_sync_status_route","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Records-Get Records Sync Status Route"}}}}}}},"/api/v1/records/distribution/":{"post":{"tags":["Records"],"summary":"Update Map Points Distribution","description":"Update points_overall or points_pro for all PB records on a given map/mode/is_pro combination.\n\nCalculates map points (0-1000) using the GOKZ rating system:\n- MinPoints (tier-based baseline)\n- RankPointsPortion (leaderboard placement reward)\n- DistPointsPortion (time distribution-based percentile using NIG distribution)\n\nRequires global team permissions.","operationId":"Records-update_map_points_distribution","security":[{"HTTPBearer":[]}],"parameters":[{"name":"map_id","in":"query","required":true,"schema":{"type":"integer","description":"Map ID","title":"Map Id"},"description":"Map ID"},{"name":"mode","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Mode","description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},"description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},{"name":"is_pro","in":"query","required":false,"schema":{"type":"boolean","description":"False for Overall (TP), True for Pro (no teleports)","default":false,"title":"Is Pro"},"description":"False for Overall (TP), True for Pro (no teleports)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Records-Update Map Points Distribution"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/record_filters":{"get":{"tags":["Record Filters"],"summary":"Read Record Filters","description":"Retrieve record filters with filtering (PUBLIC endpoint).\nSupports filtering by ids, map_ids, stages, mode_ids, tickrate, and has_teleports.","operationId":"Record Filters-read_record_filters","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":100,"title":"Limit"}},{"name":"ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by record filter IDs","title":"Ids"},"description":"Filter by record filter IDs"},{"name":"map_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by map IDs","title":"Map Ids"},"description":"Filter by map IDs"},{"name":"stages","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by stages","title":"Stages"},"description":"Filter by stages"},{"name":"mode_ids","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by mode IDs","title":"Mode Ids"},"description":"Filter by mode IDs"},{"name":"tickrate","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by tickrate","title":"Tickrate"},"description":"Filter by tickrate"},{"name":"has_teleports","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by has_teleports","title":"Has Teleports"},"description":"Filter by has_teleports"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordFiltersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/record_filters/map/{map_id}/mode_availability":{"get":{"tags":["Record Filters"],"summary":"Get Map Mode Availability","description":"Get mode availability for a map (PUBLIC endpoint).\nReturns which modes (KZT, SKZ, VNL) are available for this map with stage=0.\nA mode is available if a record filter exists with:\n- map_id = map_id OR map_id = -1 (wildcard)\n- stage = 0\n- mode_id = 200 (KZT), 201 (SKZ), or 202 (VNL)","operationId":"Record Filters-get_map_mode_availability","parameters":[{"name":"map_id","in":"path","required":true,"schema":{"type":"integer","title":"Map Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"boolean"},"title":"Response Record Filters-Get Map Mode Availability"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/record_filters/stats":{"get":{"tags":["Record Filters"],"summary":"Get Record Filter Stats","description":"Get record filter statistics grouped by tier and has_teleports (PUBLIC endpoint).\nReturns total maps and per-tier counts for TP and PRO for the specified mode.\nFilters by stage=0, tickrate=128.","operationId":"Record Filters-get_record_filter_stats","parameters":[{"name":"mode","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Mode","description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."},"description":"Mode: KZT, SKZ, or VNL. Also accepts kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202 (case-insensitive)."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecordFilterStatsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/record_filters/sync":{"post":{"tags":["Record Filters"],"summary":"Trigger Record Filters Sync","description":"Manually trigger a one-time sync of all record filters from GlobalAPI (SUPERUSER ONLY).\nProcesses all ~7000 record filters in batches of 100.","operationId":"Record Filters-trigger_record_filters_sync","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Record Filters-Trigger Record Filters Sync"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/completions/recalculate":{"post":{"tags":["Completions"],"summary":"Recalculate Completion Stats","description":"Manually recalculate all completion stats from scratch (SUPERUSER ONLY).\n\nThis endpoint should be called:\n- After initial setup\n- After syncing maps from GlobalAPI\n- When stats seem incorrect\n\nThis is the \"manual button\" approach - no automatic updates.","operationId":"Completions-recalculate_completion_stats","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Completions-Recalculate Completion Stats"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/completions":{"get":{"tags":["Completions"],"summary":"Get All Completion Stats","description":"Get cached completion statistics for all modes (PUBLIC endpoint).","operationId":"Completions-get_all_completion_stats","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/CompletionStatsPublic"},"type":"array","title":"Response Completions-Get All Completion Stats"}}}}}}},"/api/v1/completions/{mode}":{"get":{"tags":["Completions"],"summary":"Get Completion Stats For Mode","description":"Get cached completion statistics for a mode (PUBLIC endpoint).\nMode can be: KZT, SKZ, VNL, kz_timer, kz_simple, kz_vanilla, or mode ID.\n\nReturns map counts per tier for TP and PRO runs.","operationId":"Completions-get_completion_stats_for_mode","parameters":[{"name":"mode","in":"path","required":true,"schema":{"type":"string","title":"Mode"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CompletionStatsPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/leaderboards/{steamid64}":{"get":{"tags":["Leaderboards"],"summary":"Get Player Leaderboard","description":"Get a specific player's leaderboard entry for a mode.","operationId":"Leaderboards-get_player_leaderboard","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"mode","in":"query","required":true,"schema":{"type":"string","description":"Mode: KZT, SKZ, VNL (or kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202)","title":"Mode"},"description":"Mode: KZT, SKZ, VNL (or kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerLeaderboardUpsertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Leaderboards"],"summary":"Upsert Player Leaderboard","description":"Upsert a player's leaderboard entry for a specific mode.\nCalculates all leaderboard statistics from the player's PB records.\nReturns the updated entry with rank and field differences (if applicable).","operationId":"Leaderboards-upsert_player_leaderboard","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"mode","in":"query","required":true,"schema":{"type":"string","description":"Mode: KZT, SKZ, VNL (or kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202)","title":"Mode"},"description":"Mode: KZT, SKZ, VNL (or kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerLeaderboardUpsertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Leaderboards"],"summary":"Patch Player Leaderboard","description":"Optimized update of a player's leaderboard rating for a specific mode.\nUpdates only rating and total_points_v2 fields for existing leaderboard entries.\nSkips validation, TP records, and rank calculations for better performance.\nIf player is banned, removes them from the leaderboard.","operationId":"Leaderboards-patch_player_leaderboard","parameters":[{"name":"steamid64","in":"path","required":true,"schema":{"type":"string","title":"Steamid64"}},{"name":"mode","in":"query","required":true,"schema":{"type":"string","description":"Mode: KZT, SKZ, VNL (or kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202)","title":"Mode"},"description":"Mode: KZT, SKZ, VNL (or kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerLeaderboardUpsertResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/leaderboards/":{"get":{"tags":["Leaderboards"],"summary":"Get Leaderboard","description":"Get top leaderboard for a mode.\nWhen friends_only=true, only entries from the viewer's friends and the viewer themselves are returned.\nWhen steamid64 is provided, includes that player's rank in the response.","operationId":"Leaderboards-get_leaderboard","parameters":[{"name":"mode","in":"query","required":true,"schema":{"type":"string","description":"Mode: KZT, SKZ, VNL (or kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202)","title":"Mode"},"description":"Mode: KZT, SKZ, VNL (or kz_timer, kz_simple, kz_vanilla, or IDs 200, 201, 202)"},{"name":"sort_by","in":"query","required":false,"schema":{"$ref":"#/components/schemas/LeaderboardSortBy","description":"Field to sort by (defaults to rating)"},"description":"Field to sort by (defaults to rating)"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Number of results","default":50,"title":"Limit"},"description":"Number of results"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset","default":0,"title":"Offset"},"description":"Pagination offset"},{"name":"friends_only","in":"query","required":false,"schema":{"type":"boolean","description":"Filter to show only friends' entries","default":false,"title":"Friends Only"},"description":"Filter to show only friends' entries"},{"name":"viewer_steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Viewer's Steam ID (required when friends_only=true)","title":"Viewer Steamid64"},"description":"Viewer's Steam ID (required when friends_only=true)"},{"name":"country","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by country code (ISO 3166-1 alpha-2)","title":"Country"},"description":"Filter by country code (ISO 3166-1 alpha-2)"},{"name":"region","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by region code (mutually exclusive with country)","title":"Region"},"description":"Filter by region code (mutually exclusive with country)"},{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Get rank for a specific player","title":"Steamid64"},"description":"Get rank for a specific player"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LeaderboardPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/regions/":{"get":{"tags":["Regions"],"summary":"Get Regions","description":"Get all regions with their associated country codes.","operationId":"Regions-get_regions","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegionsPublic"}}}}}}},"/api/v1/search/players":{"get":{"tags":["Search"],"summary":"Search Players","operationId":"Search-search_players","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"maxLength":255,"title":"Query"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/app__api__routes__search__PlayerSearchResult"},"title":"Response Search-Search Players"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/servers":{"get":{"tags":["Search"],"summary":"Search Servers","operationId":"Search-search_servers","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"maxLength":255,"title":"Query"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ServerSearchResult"},"title":"Response Search-Search Servers"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/search/maps":{"get":{"tags":["Search"],"summary":"Search Maps","operationId":"Search-search_maps","parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","minLength":1,"maxLength":255,"title":"Query"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MapSearchResult"},"title":"Response Search-Search Maps"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles/":{"get":{"tags":["Roles"],"summary":"List Roles","description":"List all available roles.","operationId":"Roles-list_roles","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/RolePublic"},"type":"array","title":"Response Roles-List Roles"}}}}}}},"/api/v1/roles/users/{user_id}/assign/{role_name}":{"post":{"tags":["Roles"],"summary":"Assign Role","description":"Assign a role to a user (superuser only).","operationId":"Roles-assign_role","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"role_name","in":"path","required":true,"schema":{"type":"string","title":"Role Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/roles/users/{user_id}/remove/{role_name}":{"post":{"tags":["Roles"],"summary":"Remove Role","description":"Remove a role from a user (superuser only).","operationId":"Roles-remove_role","security":[{"HTTPBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}},{"name":"role_name","in":"path","required":true,"schema":{"type":"string","title":"Role Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bans":{"get":{"tags":["Bans"],"summary":"Read Bans","description":"Retrieve bans with filtering (PUBLIC endpoint).\nSupports filtering by ban_types, ban_types_list, is_expired, steamid64, and server_id.","operationId":"Bans-read_bans","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":100,"title":"Limit"}},{"name":"ban_types","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by ban type","title":"Ban Types"},"description":"Filter by ban type"},{"name":"ban_types_list","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Filter by multiple ban types","title":"Ban Types List"},"description":"Filter by multiple ban types"},{"name":"is_expired","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"Filter by expiration status: true=expired, false=active","title":"Is Expired"},"description":"Filter by expiration status: true=expired, false=active"},{"name":"steamid64","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by Steam ID64","title":"Steamid64"},"description":"Filter by Steam ID64"},{"name":"server_id","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Filter by server ID","title":"Server Id"},"description":"Filter by server ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BansPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Bans"],"summary":"Create Ban","description":"Create new ban (SUPERUSER ONLY).","operationId":"Bans-create_ban","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BanCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BanPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bans/{id}":{"get":{"tags":["Bans"],"summary":"Read Ban","description":"Get single ban by ID (PUBLIC endpoint).","operationId":"Bans-read_ban","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BanPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["Bans"],"summary":"Update Ban","description":"Update ban (SUPERUSER ONLY).","operationId":"Bans-update_ban","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BanUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BanPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Bans"],"summary":"Delete Ban","description":"Delete ban (SUPERUSER ONLY).","operationId":"Bans-delete_ban","security":[{"HTTPBearer":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Bans-Delete Ban"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/bans/sync/start":{"post":{"tags":["Bans"],"summary":"Start Bans Sync","description":"Start syncing bans from GlobalAPI (SUPERUSER ONLY).","operationId":"Bans-start_bans_sync","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Bans-Start Bans Sync"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/bans/sync/stop":{"post":{"tags":["Bans"],"summary":"Stop Bans Sync","description":"Stop syncing bans from GlobalAPI (SUPERUSER ONLY).","operationId":"Bans-stop_bans_sync","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"type":"string"},"type":"object","title":"Response Bans-Stop Bans Sync"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/bans/sync/status":{"get":{"tags":["Bans"],"summary":"Get Bans Sync Status","description":"Get bans sync status (PUBLIC endpoint).","operationId":"Bans-get_bans_sync_status","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Bans-Get Bans Sync Status"}}}}}}},"/api/v1/bans/sync/trigger":{"post":{"tags":["Bans"],"summary":"Trigger Bans Sync","description":"Manually trigger a bans sync cycle from GlobalAPI (SUPERUSER ONLY).","operationId":"Bans-trigger_bans_sync","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Bans-Trigger Bans Sync"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/vnltiers/sync":{"post":{"tags":["VNL Tiers"],"summary":"Sync Tiers From Sheets","description":"Sync VNL tiers from Google Sheets to local database.\nAdmin only.","operationId":"VNL Tiers-sync_tiers_from_sheets","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Vnl Tiers-Sync Tiers From Sheets"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/v1/vnltiers/{map_identifier}":{"get":{"tags":["VNL Tiers"],"summary":"Get Vnl Tier","description":"Get VNL tier information for a map.\nSupports map_id (int) or map_name (string) as identifier.\n\nIf the map is validated but has no VNL tier entry, returns default values:\n- tp_tier: 9\n- pro_tier: 9\n- notes: \"impossible\"","operationId":"VNL Tiers-get_vnl_tier","parameters":[{"name":"map_identifier","in":"path","required":true,"schema":{"type":"string","title":"Map Identifier"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VNLTierPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/vnltiers":{"get":{"tags":["VNL Tiers"],"summary":"List Vnl Tiers","description":"List all VNL tiers with pagination.\nFor admin/debugging purposes.\nDefault limit is 10000 to show all tiers.","operationId":"VNL Tiers-list_vnl_tiers","parameters":[{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":10000,"minimum":1,"default":10000,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VNLTierPublic"},"title":"Response Vnl Tiers-List Vnl Tiers"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stats/daily-active-players":{"get":{"tags":["Stats"],"summary":"Get Daily Active Players","description":"Get daily active player statistics.\n\nReturns the count of unique players who submitted records each day\nwithin the specified date range. Defaults to last 30 days if no dates provided.","operationId":"Stats-get_daily_active_players","parameters":[{"name":"start_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"Start date (inclusive). Defaults to 30 days ago if not provided.","title":"Start Date"},"description":"Start date (inclusive). Defaults to 30 days ago if not provided."},{"name":"end_date","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date"},{"type":"null"}],"description":"End date (inclusive). Defaults to today if not provided.","title":"End Date"},"description":"End date (inclusive). Defaults to today if not provided."}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DailyActivePlayerStatsListPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ApiKeyCreate":{"properties":{"group_id":{"type":"string","format":"uuid","title":"Group Id"}},"type":"object","required":["group_id"],"title":"ApiKeyCreate"},"ApiKeyPublic":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"group_id":{"type":"string","format":"uuid","title":"Group Id"},"group_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group Name"},"key_prefix":{"type":"string","title":"Key Prefix"},"key_last4":{"type":"string","title":"Key Last4"},"is_active":{"type":"boolean","title":"Is Active"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","group_id","key_prefix","key_last4","is_active","created_at","updated_at"],"title":"ApiKeyPublic"},"ApiKeyReveal":{"properties":{"api_key":{"type":"string","title":"Api Key"}},"type":"object","required":["api_key"],"title":"ApiKeyReveal"},"ApiKeysPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/ApiKeyPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"ApiKeysPublic"},"BanCreate":{"properties":{"ban_type":{"type":"string","maxLength":255,"title":"Ban Type"},"expires_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires On"},"steamid64":{"type":"string","maxLength":20,"title":"Steamid64"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"stats":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stats"},"server_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Server Id"},"updated_by_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Updated By Id"},"created_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created On"},"updated_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated On"}},"type":"object","required":["ban_type","steamid64"],"title":"BanCreate"},"BanPublic":{"properties":{"id":{"type":"integer","title":"Id"},"ban_type":{"type":"string","title":"Ban Type"},"expires_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires On"},"steamid64":{"type":"string","title":"Steamid64"},"player_name":{"type":"string","title":"Player Name"},"avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Hash"},"steam_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Steam Id"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"stats":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stats"},"server_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Server Id"},"server_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Server Name"},"updated_by_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated By Id"},"created_on":{"type":"string","format":"date-time","title":"Created On"},"updated_on":{"type":"string","format":"date-time","title":"Updated On"}},"type":"object","required":["id","ban_type","steamid64","player_name","created_on","updated_on"],"title":"BanPublic"},"BanUpdate":{"properties":{"ban_type":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Ban Type"},"expires_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires On"},"steamid64":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Steamid64"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"stats":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stats"},"server_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Server Id"},"updated_by_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Updated By Id"},"updated_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated On"}},"type":"object","title":"BanUpdate"},"BansPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/BanPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"BansPublic"},"BindingCodePublic":{"properties":{"code":{"type":"string","title":"Code"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"}},"type":"object","required":["code","expires_at"],"title":"BindingCodePublic"},"BulkSetValidatedRequest":{"properties":{"record_ids":{"items":{"type":"integer"},"type":"array","title":"Record Ids","description":"List of record IDs to update"},"validated":{"type":"boolean","title":"Validated","description":"Validation status to set (True=validated, False=invalidated)"}},"type":"object","required":["record_ids","validated"],"title":"BulkSetValidatedRequest"},"CompletionStatsPublic":{"properties":{"mode_id":{"type":"integer","title":"Mode Id"},"mode_name":{"type":"string","title":"Mode Name"},"tp":{"$ref":"#/components/schemas/CompletionTiers"},"pro":{"$ref":"#/components/schemas/CompletionTiers"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["mode_id","mode_name","tp","pro","updated_at"],"title":"CompletionStatsPublic"},"CompletionTiers":{"properties":{"tier_1":{"type":"integer","title":"Tier 1","default":0},"tier_2":{"type":"integer","title":"Tier 2","default":0},"tier_3":{"type":"integer","title":"Tier 3","default":0},"tier_4":{"type":"integer","title":"Tier 4","default":0},"tier_5":{"type":"integer","title":"Tier 5","default":0},"tier_6":{"type":"integer","title":"Tier 6","default":0},"tier_7":{"type":"integer","title":"Tier 7","default":0},"tier_8":{"type":"integer","title":"Tier 8","default":0},"total":{"type":"integer","title":"Total","default":0}},"type":"object","title":"CompletionTiers"},"DailyActivePlayerStatsListPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/DailyActivePlayerStatsPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"DailyActivePlayerStatsListPublic"},"DailyActivePlayerStatsPublic":{"properties":{"date":{"type":"string","format":"date","title":"Date"},"active_player_count":{"type":"integer","title":"Active Player Count"}},"type":"object","required":["date","active_player_count"],"title":"DailyActivePlayerStatsPublic"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LeaderboardPublic":{"properties":{"mode":{"type":"string","title":"Mode"},"sort_by":{"type":"string","title":"Sort By"},"data":{"items":{"$ref":"#/components/schemas/PlayerLeaderboardEntryPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"},"player_rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Player Rank"}},"type":"object","required":["mode","sort_by","data","count"],"title":"LeaderboardPublic"},"LeaderboardSortBy":{"type":"string","enum":["points","pro_wrs","t5_finishes","t6_finishes","t7_finishes","t8_finishes","map_finished","rating","maps_easy_rating","maps_hard_rating","total_points_v2","overall_wrs"],"title":"LeaderboardSortBy","description":"Sort fields for leaderboard queries."},"MapCommentPublic":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"map_id":{"type":"integer","title":"Map Id"},"steamid64":{"type":"string","title":"Steamid64"},"player_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Name"},"player_avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Avatar Hash"},"ratings":{"items":{"$ref":"#/components/schemas/MapPlayerRatingPublic"},"type":"array","title":"Ratings"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment"},"original_language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Original Language"},"translated_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Translated Text"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"can_edit":{"type":"boolean","title":"Can Edit","default":false}},"type":"object","required":["map_id","steamid64"],"title":"MapCommentPublic"},"MapCommentsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/MapCommentPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"MapCommentsPublic"},"MapPlayerRatingPublic":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"map_id":{"type":"integer","title":"Map Id"},"steamid64":{"type":"string","title":"Steamid64"},"aspect":{"$ref":"#/components/schemas/RatingAspect"},"rating":{"type":"integer","title":"Rating"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","map_id","steamid64","aspect","rating","created_at","updated_at"],"title":"MapPlayerRatingPublic"},"MapPublic":{"properties":{"name":{"type":"string","maxLength":255,"title":"Name"},"filesize":{"type":"integer","title":"Filesize","default":0},"validated":{"type":"boolean","title":"Validated","default":false},"difficulty":{"type":"integer","title":"Difficulty","default":0},"created_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created On"},"updated_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated On"},"approved_by_steamid64":{"type":"integer","title":"Approved By Steamid64","default":0},"workshop_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Workshop Id"},"comment_count":{"type":"integer","title":"Comment Count","default":0},"authors":{"items":{"$ref":"#/components/schemas/PlayerPublic"},"type":"array","title":"Authors"},"no_steamid_names":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"No Steamid Names","description":"List of author names without steamid64"},"id":{"type":"integer","title":"Id"},"workshop_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Workshop Url","description":"Construct workshop URL from workshop_id.","readOnly":true},"download_url":{"type":"string","title":"Download Url","description":"Always return empty string for download_url.","readOnly":true}},"type":"object","required":["name","id","workshop_url","download_url"],"title":"MapPublic"},"MapReviewContent":{"properties":{"overall":{"type":"integer","maximum":5.0,"minimum":1.0,"title":"Overall","description":"Overall rating (1-5) - required"},"gameplay":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Gameplay","description":"Gameplay rating (1-5) - optional"},"visuals":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Visuals","description":"Visuals rating (1-5) - optional"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"Comment text or null"},"lang":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Lang","description":"Detected language code (ISO 639-1) - null if no comment"}},"type":"object","required":["overall"],"title":"MapReviewContent","description":"Pydantic model for JSONB content validation."},"MapReviewPublic":{"properties":{"steamid64":{"type":"string","title":"Steamid64"},"map_id":{"type":"integer","title":"Map Id"},"map_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Map Name"},"player_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Name"},"player_avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Avatar Hash"},"content":{"$ref":"#/components/schemas/MapReviewContent"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["steamid64","map_id","content","created_at","updated_at"],"title":"MapReviewPublic","description":"Public API response model."},"MapReviewUpdate":{"properties":{"overall":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Overall","description":"Overall rating (1-5)"},"gameplay":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Gameplay","description":"Gameplay rating (1-5)"},"visuals":{"anyOf":[{"type":"integer","maximum":5.0,"minimum":1.0},{"type":"null"}],"title":"Visuals","description":"Visuals rating (1-5)"},"comment":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Comment","description":"Comment text or null"}},"type":"object","title":"MapReviewUpdate","description":"Update model - all fields optional."},"MapReviewsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/MapReviewPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"MapReviewsPublic","description":"Response model for list endpoint."},"MapReviewsSortBy":{"type":"string","enum":["map_id","overall_count","overall_avg_stars","visuals_avg_stars","gameplay_avg_stars","comment_count","last_starred","last_comment"],"title":"MapReviewsSortBy","description":"Sort fields for map reviews summary."},"MapReviewsStarsData":{"properties":{"visuals_avg_stars":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Visuals Avg Stars"},"visuals_count":{"type":"integer","title":"Visuals Count","default":0},"overall_avg_stars":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Overall Avg Stars"},"overall_count":{"type":"integer","title":"Overall Count","default":0},"gameplay_avg_stars":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Gameplay Avg Stars"},"gameplay_count":{"type":"integer","title":"Gameplay Count","default":0}},"type":"object","title":"MapReviewsStarsData","description":"Pydantic model for validating stars JSON structure."},"MapReviewsSummaryCachePublic":{"properties":{"map_id":{"type":"integer","title":"Map Id"},"stars":{"$ref":"#/components/schemas/MapReviewsStarsData"},"comment_count":{"type":"integer","title":"Comment Count"},"last_starred":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Starred"},"last_comment":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Comment"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["map_id","stars","comment_count","updated_at"],"title":"MapReviewsSummaryCachePublic"},"MapReviewsSummaryPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/MapReviewsSummaryCachePublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"MapReviewsSummaryPublic"},"MapSearchResult":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"difficulty":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Difficulty"}},"type":"object","required":["id","name"],"title":"MapSearchResult"},"MapSimple":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"filesize":{"type":"integer","title":"Filesize"},"validated":{"type":"boolean","title":"Validated"},"difficulty":{"type":"integer","title":"Difficulty"},"created_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created On"},"updated_on":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated On"},"approved_by_steamid64":{"type":"integer","title":"Approved By Steamid64"},"authors":{"items":{"type":"string"},"type":"array","title":"Authors","description":"List of author SteamID64 strings"},"no_steamid_names":{"items":{"type":"string"},"type":"array","title":"No Steamid Names"},"workshop_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Workshop Url","description":"Construct workshop URL from workshop_id.","readOnly":true},"download_url":{"type":"string","title":"Download Url","description":"Always return empty string for download_url.","readOnly":true}},"type":"object","required":["id","name","filesize","validated","difficulty","created_on","updated_on","approved_by_steamid64","workshop_url","download_url"],"title":"MapSimple","description":"Simplified map response with only essential fields."},"MapUpdate":{"properties":{"authors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Authors","description":"List of author steamid64s"},"no_steamid_names":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"No Steamid Names","description":"List of author names without steamid64"},"validated":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Validated","description":"Whether the map is validated"},"difficulty":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Difficulty","description":"Map difficulty/tier (0-8)"}},"type":"object","title":"MapUpdate","description":"Schema for updating map authors, no_steamid_names, validated, and difficulty."},"MapWRCacheV2Public":{"properties":{"map_id":{"type":"integer","title":"Map Id"},"map_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Map Name"},"mode_id":{"type":"integer","title":"Mode Id"},"mode_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mode Name"},"is_overall":{"type":"boolean","title":"Is Overall"},"best_time":{"type":"number","title":"Best Time"},"record_id":{"type":"integer","title":"Record Id"},"wr_player_steamid64":{"type":"string","title":"Wr Player Steamid64"},"wr_player":{"anyOf":[{"$ref":"#/components/schemas/PlayerPublic"},{"type":"null"}]},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["map_id","mode_id","is_overall","best_time","record_id","wr_player_steamid64","updated_at"],"title":"MapWRCacheV2Public"},"Message":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"Message"},"Mode":{"type":"string","enum":["kz_timer","kz_simple","kz_vanilla"],"title":"Mode","description":"Enum for KZ modes. Values are canonical names (kz_timer, kz_simple, kz_vanilla)."},"ModePublic":{"properties":{"name":{"type":"string","maxLength":255,"title":"Name"},"name_short":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Name Short"},"description":{"type":"string","title":"Description"},"latest_version":{"type":"integer","title":"Latest Version"},"latest_version_description":{"type":"string","title":"Latest Version Description"},"website":{"type":"string","maxLength":500,"title":"Website"},"repo":{"type":"string","maxLength":500,"title":"Repo"},"contact_steamid64":{"type":"integer","title":"Contact Steamid64"},"supported_tickrates":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Supported Tickrates"},"created_on":{"type":"string","format":"date-time","title":"Created On"},"updated_on":{"type":"string","format":"date-time","title":"Updated On"},"updated_by_id":{"type":"integer","title":"Updated By Id"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","description","latest_version","latest_version_description","website","repo","contact_steamid64","created_on","updated_on","updated_by_id","id"],"title":"ModePublic"},"PlayerFriendPublic":{"properties":{"steamid64":{"type":"string","title":"Steamid64"},"friend_steamid64":{"type":"string","title":"Friend Steamid64"},"friend_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Friend Name"},"friend_alias":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Friend Alias"},"friend_avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Friend Avatar Hash"},"friend_country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Friend Country"},"friend_since":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Friend Since"},"synced_at":{"type":"string","format":"date-time","title":"Synced At"}},"type":"object","required":["steamid64","friend_steamid64","synced_at"],"title":"PlayerFriendPublic"},"PlayerFriendsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/PlayerFriendPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"PlayerFriendsPublic"},"PlayerLeaderboardEntryPublic":{"properties":{"rank":{"type":"integer","title":"Rank"},"steamid64":{"type":"string","title":"Steamid64"},"player_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Name"},"player_alias":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Alias"},"player_avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Avatar Hash"},"player_country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Country"},"mode":{"type":"string","title":"Mode"},"points":{"type":"integer","title":"Points"},"total_points_v2":{"type":"integer","title":"Total Points V2"},"overall_wrs":{"type":"integer","title":"Overall Wrs"},"pro_wrs":{"type":"integer","title":"Pro Wrs"},"t5_finishes":{"type":"integer","title":"T5 Finishes"},"t6_finishes":{"type":"integer","title":"T6 Finishes"},"t7_finishes":{"type":"integer","title":"T7 Finishes"},"t8_finishes":{"type":"integer","title":"T8 Finishes"},"map_finished":{"type":"integer","title":"Map Finished"},"rating":{"type":"number","title":"Rating"},"maps_easy_rating":{"type":"number","title":"Maps Easy Rating"},"maps_hard_rating":{"type":"number","title":"Maps Hard Rating"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"},"overall_rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Overall Rank"},"top_percentage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Top Percentage"},"is_website_user":{"type":"boolean","title":"Is Website User","default":false}},"type":"object","required":["rank","steamid64","mode","points","total_points_v2","overall_wrs","pro_wrs","t5_finishes","t6_finishes","t7_finishes","t8_finishes","map_finished","rating","maps_easy_rating","maps_hard_rating","last_updated"],"title":"PlayerLeaderboardEntryPublic"},"PlayerLeaderboardUpsertResponse":{"properties":{"steamid64":{"type":"string","title":"Steamid64"},"mode":{"type":"string","title":"Mode","description":"Mode short code: KZT, SKZ, VNL"},"points":{"type":"integer","title":"Points"},"total_points_v2":{"type":"integer","title":"Total Points V2"},"overall_wrs":{"type":"integer","title":"Overall Wrs"},"pro_wrs":{"type":"integer","title":"Pro Wrs"},"t5_finishes":{"type":"integer","title":"T5 Finishes"},"t6_finishes":{"type":"integer","title":"T6 Finishes"},"t7_finishes":{"type":"integer","title":"T7 Finishes"},"t8_finishes":{"type":"integer","title":"T8 Finishes"},"map_finished":{"type":"integer","title":"Map Finished"},"rating":{"type":"number","title":"Rating"},"maps_easy_rating":{"type":"number","title":"Maps Easy Rating"},"maps_hard_rating":{"type":"number","title":"Maps Hard Rating"},"last_updated":{"type":"string","format":"date-time","title":"Last Updated"},"rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rank"},"region_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Region Code"},"regional_rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Regional Rank"},"differ":{"additionalProperties":{"anyOf":[{"type":"integer"},{"type":"number"}]},"type":"object","title":"Differ"}},"type":"object","required":["steamid64","mode","points","total_points_v2","overall_wrs","pro_wrs","t5_finishes","t6_finishes","t7_finishes","t8_finishes","map_finished","rating","maps_easy_rating","maps_hard_rating","last_updated"],"title":"PlayerLeaderboardUpsertResponse"},"PlayerLikeAdminPublic":{"properties":{"liker_steamid64":{"type":"string","title":"Liker Steamid64"},"liked_steamid64":{"type":"string","title":"Liked Steamid64"},"liker_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Liker Name"},"liker_avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Liker Avatar Hash"},"liked_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Liked Name"},"liked_avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Liked Avatar Hash"},"like_date":{"type":"string","format":"date","title":"Like Date"},"count":{"type":"integer","title":"Count"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["liker_steamid64","liked_steamid64","like_date","count","created_at","updated_at"],"title":"PlayerLikeAdminPublic"},"PlayerLikersPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/PlayerLikeAdminPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"},"unique_likers_count":{"type":"integer","title":"Unique Likers Count"}},"type":"object","required":["data","count","unique_likers_count"],"title":"PlayerLikersPublic"},"PlayerLikesAdminPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/PlayerLikeAdminPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"PlayerLikesAdminPublic"},"PlayerLikesPublic":{"properties":{"total_count":{"type":"integer","title":"Total Count"},"likes_today":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Likes Today"},"remaining_today":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Remaining Today"}},"type":"object","required":["total_count"],"title":"PlayerLikesPublic"},"PlayerPublic":{"properties":{"name":{"type":"string","maxLength":255,"title":"Name"},"steamid64":{"type":"string","maxLength":20,"title":"Steamid64"},"alias":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Alias"},"custom_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Custom Id"},"avatar_hash":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Avatar Hash"},"country":{"anyOf":[{"type":"string","maxLength":2},{"type":"null"}],"title":"Country"},"is_country_locked":{"type":"boolean","title":"Is Country Locked","description":"If True, country will not be auto-updated from Steam API","default":false},"primary_mode":{"type":"string","maxLength":10,"title":"Primary Mode","default":"KZT"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"profile_updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Profile Updated At"},"rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rating","description":"Player rating from leaderboard (mode-specific)"},"rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rank","description":"Global rank by rating in primary mode"},"is_web_user":{"type":"boolean","title":"Is Web User","description":"Whether the player is a website user (has User account)","default":false}},"type":"object","required":["name","steamid64"],"title":"PlayerPublic"},"PlayerSessionAdminPublic":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"player_steamid64":{"type":"string","title":"Player Steamid64"},"player_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Name"},"player_avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Avatar Hash"},"server_group_id":{"type":"string","format":"uuid","title":"Server Group Id"},"server_group_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Server Group Name"},"connected_time":{"type":"string","format":"date-time","title":"Connected Time"},"disconnect_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Disconnect Time"},"map_name":{"type":"string","title":"Map Name"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"}},"type":"object","required":["id","player_steamid64","server_group_id","connected_time","map_name"],"title":"PlayerSessionAdminPublic"},"PlayerSessionCreate":{"properties":{"steamid64":{"type":"string","maxLength":20,"title":"Steamid64"},"ip_address":{"type":"string","format":"ipv4","title":"Ip Address"},"connected_time":{"type":"string","format":"date-time","title":"Connected Time"},"map_name":{"type":"string","maxLength":255,"title":"Map Name"}},"type":"object","required":["steamid64","ip_address","connected_time","map_name"],"title":"PlayerSessionCreate"},"PlayerSessionDisconnect":{"properties":{"steamid64":{"type":"string","maxLength":20,"title":"Steamid64"},"disconnect_time":{"type":"string","format":"date-time","title":"Disconnect Time"},"map_name":{"type":"string","maxLength":255,"title":"Map Name"}},"type":"object","required":["steamid64","disconnect_time","map_name"],"title":"PlayerSessionDisconnect"},"PlayerSessionPublic":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"player_steamid64":{"type":"string","title":"Player Steamid64"},"server_group_id":{"type":"string","format":"uuid","title":"Server Group Id"},"connected_time":{"type":"string","format":"date-time","title":"Connected Time"},"disconnect_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Disconnect Time"},"map_name":{"type":"string","title":"Map Name"},"duration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Duration"}},"type":"object","required":["id","player_steamid64","server_group_id","connected_time","map_name"],"title":"PlayerSessionPublic"},"PlayerSessionsAdminPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/PlayerSessionAdminPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"PlayerSessionsAdminPublic"},"PlayerSessionsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/PlayerSessionPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"PlayerSessionsPublic"},"PlayerUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Name"},"alias":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Alias"},"custom_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Custom Id"},"avatar_hash":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Avatar Hash"},"country":{"anyOf":[{"type":"string","maxLength":2},{"type":"null"}],"title":"Country"},"is_country_locked":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Country Locked","description":"If True, country will not be auto-updated from Steam API"},"primary_mode":{"anyOf":[{"type":"string","maxLength":10},{"type":"null"}],"title":"Primary Mode"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"profile_updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Profile Updated At"}},"type":"object","title":"PlayerUpdate"},"PublicServerCreate":{"properties":{"host":{"type":"string","maxLength":255,"minLength":1,"title":"Host"},"port":{"anyOf":[{"type":"integer","maximum":65535.0,"minimum":1.0},{"type":"null"}],"title":"Port"},"owner_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Owner Id"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled"},"group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Group Id"}},"type":"object","required":["host"],"title":"PublicServerCreate"},"PublicServerPublic":{"properties":{"host":{"type":"string","maxLength":255,"minLength":1,"title":"Host"},"port":{"type":"integer","maximum":65535.0,"minimum":1.0,"title":"Port","default":27015},"enabled":{"type":"boolean","title":"Enabled","default":true},"country":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Country"},"city":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"City"},"owner_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Owner Id"},"id":{"type":"string","format":"uuid","title":"Id"},"hostname":{"type":"string","title":"Hostname"},"last_seen_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen At"},"online":{"type":"boolean","title":"Online","default":false},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"group":{"anyOf":[{"$ref":"#/components/schemas/ServerGroupPublic"},{"type":"null"}]}},"type":"object","required":["host","id","hostname","created_at","updated_at"],"title":"PublicServerPublic"},"PublicServerUpdate":{"properties":{"host":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Host"},"port":{"anyOf":[{"type":"integer","maximum":65535.0,"minimum":1.0},{"type":"null"}],"title":"Port"},"owner_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Owner Id"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled"},"group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Group Id"}},"type":"object","title":"PublicServerUpdate"},"PublicServersPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/PublicServerPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"PublicServersPublic"},"RatingAspect":{"type":"string","enum":["visuals","overall","gameplay"],"title":"RatingAspect"},"RatingFormulaParams":{"properties":{"rating_power":{"type":"number","title":"Rating Power"},"rating_max_cs2kz":{"type":"number","title":"Rating Max Cs2Kz"},"rating_normalization_divisor":{"type":"number","title":"Rating Normalization Divisor"},"rating_max_normalized_base":{"type":"number","title":"Rating Max Normalized Base"},"rating_scale_multiplier":{"type":"number","title":"Rating Scale Multiplier"},"rating_min_value":{"type":"number","title":"Rating Min Value"}},"type":"object","required":["rating_power","rating_max_cs2kz","rating_normalization_divisor","rating_max_normalized_base","rating_scale_multiplier","rating_min_value"],"title":"RatingFormulaParams","description":"Rating formula parameters for CS2KZ rating scaling."},"RecordFilterPublic":{"properties":{"map_id":{"type":"integer","title":"Map Id"},"stage":{"type":"integer","title":"Stage","default":0},"mode_id":{"type":"integer","title":"Mode Id"},"tickrate":{"type":"integer","title":"Tickrate"},"has_teleports":{"type":"boolean","title":"Has Teleports","default":false},"created_on":{"type":"string","format":"date-time","title":"Created On"},"updated_on":{"type":"string","format":"date-time","title":"Updated On"},"updated_by_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Updated By Id"},"id":{"type":"integer","title":"Id"},"map_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Map Name"},"mode_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mode Name"}},"type":"object","required":["map_id","mode_id","tickrate","created_on","updated_on","id"],"title":"RecordFilterPublic"},"RecordFilterStatsPublic":{"properties":{"total_maps_tp":{"type":"integer","title":"Total Maps Tp"},"total_maps_pro":{"type":"integer","title":"Total Maps Pro"},"by_tier":{"items":{"$ref":"#/components/schemas/RecordFilterTierStats"},"type":"array","title":"By Tier"}},"type":"object","required":["total_maps_tp","total_maps_pro","by_tier"],"title":"RecordFilterStatsPublic"},"RecordFilterTierStats":{"properties":{"tier":{"type":"integer","title":"Tier"},"tp_count":{"type":"integer","title":"Tp Count"},"pro_count":{"type":"integer","title":"Pro Count"}},"type":"object","required":["tier","tp_count","pro_count"],"title":"RecordFilterTierStats"},"RecordFiltersPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/RecordFilterPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"RecordFiltersPublic"},"RecordPublic":{"properties":{"id":{"type":"integer","title":"Id"},"steamid64":{"type":"string","title":"Steamid64"},"player_name":{"type":"string","title":"Player Name"},"player_avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Player Avatar Hash"},"steam_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Steam Id"},"server_id":{"type":"integer","title":"Server Id"},"server_name":{"type":"string","title":"Server Name"},"map_id":{"type":"integer","title":"Map Id"},"map_name":{"type":"string","title":"Map Name"},"map_tier":{"type":"integer","title":"Map Tier","default":0},"mode":{"type":"string","title":"Mode"},"stage":{"type":"integer","title":"Stage"},"tickrate":{"type":"integer","title":"Tickrate"},"time":{"type":"number","title":"Time"},"teleports":{"type":"integer","title":"Teleports"},"created_on":{"type":"string","format":"date-time","title":"Created On"},"updated_on":{"type":"string","format":"date-time","title":"Updated On"},"updated_by":{"type":"integer","title":"Updated By"},"record_filter_id":{"type":"integer","title":"Record Filter Id"},"points":{"type":"integer","title":"Points"},"points_overall":{"type":"integer","title":"Points Overall","default":0},"points_pro":{"type":"integer","title":"Points Pro","default":0},"replay_id":{"type":"integer","title":"Replay Id"},"validated":{"type":"boolean","title":"Validated"}},"type":"object","required":["id","steamid64","player_name","server_id","server_name","map_id","map_name","mode","stage","tickrate","time","teleports","created_on","updated_on","updated_by","record_filter_id","points","replay_id","validated"],"title":"RecordPublic"},"RegionPublic":{"properties":{"code":{"type":"string","maxLength":10,"title":"Code"},"name":{"type":"string","maxLength":255,"title":"Name"},"id":{"type":"string","format":"uuid","title":"Id"},"country_codes":{"items":{"type":"string"},"type":"array","title":"Country Codes","default":[]}},"type":"object","required":["code","name","id"],"title":"RegionPublic"},"RegionsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/RegionPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"RegionsPublic"},"RolePublic":{"properties":{"name":{"type":"string","maxLength":50,"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Description"},"id":{"type":"string","format":"uuid","title":"Id"}},"type":"object","required":["name","id"],"title":"RolePublic"},"ServerGroupCreate":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"owner_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Owner Id"},"website":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Website"},"discord":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Discord"},"steam_group":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Steam Group"},"custom_id":{"type":"string","maxLength":255,"minLength":1,"title":"Custom Id"},"global_server_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Global Server Ids"}},"type":"object","required":["name","custom_id"],"title":"ServerGroupCreate"},"ServerGroupPublic":{"properties":{"name":{"type":"string","maxLength":255,"minLength":1,"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"owner_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Owner Id"},"website":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Website"},"discord":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Discord"},"steam_group":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Steam Group"},"custom_id":{"type":"string","maxLength":255,"minLength":1,"title":"Custom Id","description":"URL-safe identifier comprised of lowercase letters, numbers, and underscores."},"id":{"type":"string","format":"uuid","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"global_server_ids":{"items":{"type":"integer"},"type":"array","title":"Global Server Ids"},"server_names":{"items":{"type":"string"},"type":"array","title":"Server Names"}},"type":"object","required":["name","custom_id","id","created_at","updated_at"],"title":"ServerGroupPublic"},"ServerGroupUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"owner_id":{"anyOf":[{"type":"string","maxLength":20},{"type":"null"}],"title":"Owner Id"},"website":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Website"},"discord":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Discord"},"steam_group":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Steam Group"},"custom_id":{"anyOf":[{"type":"string","maxLength":255,"minLength":1},{"type":"null"}],"title":"Custom Id"},"global_server_ids":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Global Server Ids"}},"type":"object","title":"ServerGroupUpdate"},"ServerGroupsPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/ServerGroupPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"ServerGroupsPublic"},"ServerPublic":{"properties":{"port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Port"},"ip":{"anyOf":[{"type":"string","maxLength":45},{"type":"null"}],"title":"Ip"},"name":{"type":"string","maxLength":255,"title":"Name"},"is_globalled":{"type":"boolean","title":"Is Globalled","default":false},"id":{"type":"integer","title":"Id"},"owner_steamid64":{"type":"string","title":"Owner Steamid64"},"group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Group Id"},"group_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group Name"}},"type":"object","required":["name","id","owner_steamid64"],"title":"ServerPublic"},"ServerSearchResult":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"ip":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip"},"port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Port"}},"type":"object","required":["id","name"],"title":"ServerSearchResult"},"ServerStatusPublic":{"properties":{"hostname":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Hostname"},"map_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Map Name"},"game":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Game"},"player_count":{"type":"integer","title":"Player Count","default":0},"max_players":{"type":"integer","title":"Max Players","default":0},"bot_count":{"type":"integer","title":"Bot Count","default":0},"is_online":{"type":"boolean","title":"Is Online","default":false},"query_error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query Error"},"raw_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Raw Data"},"players":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Players"},"consecutive_failures":{"type":"integer","title":"Consecutive Failures","default":0},"first_failure_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"First Failure At"},"last_push_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Push At"},"server_id":{"type":"string","format":"uuid","title":"Server Id"},"last_queried_at":{"type":"string","format":"date-time","title":"Last Queried At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"map_tier":{"type":"integer","title":"Map Tier","default":0},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"host":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Host"},"port":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Port"},"group_id":{"anyOf":[{"type":"string","format":"uuid"},{"type":"null"}],"title":"Group Id"},"group_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group Name"},"group_custom_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Group Custom Id"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled"}},"type":"object","required":["server_id","last_queried_at","created_at","updated_at"],"title":"ServerStatusPublic"},"ServerStatusPushPlayer":{"properties":{"name":{"type":"string","title":"Name"},"steamid64":{"type":"string","maxLength":20,"title":"Steamid64"},"score":{"type":"integer","title":"Score"},"duration":{"type":"number","title":"Duration"},"timer_time":{"type":"number","title":"Timer Time"},"mode":{"type":"string","title":"Mode"},"is_paused":{"type":"boolean","title":"Is Paused"},"status":{"type":"string","title":"Status"},"teleports":{"type":"integer","title":"Teleports"}},"type":"object","required":["name","steamid64","score","duration","timer_time","mode","is_paused","status","teleports"],"title":"ServerStatusPushPlayer"},"ServerStatusPushRequest":{"properties":{"ip":{"type":"string","maxLength":45,"title":"Ip"},"port":{"type":"integer","maximum":65535.0,"minimum":1.0,"title":"Port"},"hostname":{"type":"string","maxLength":255,"title":"Hostname"},"map_name":{"type":"string","maxLength":255,"title":"Map Name"},"player_count":{"type":"integer","minimum":0.0,"title":"Player Count"},"max_player":{"type":"integer","minimum":0.0,"title":"Max Player"},"players":{"items":{"$ref":"#/components/schemas/ServerStatusPushPlayer"},"type":"array","title":"Players"}},"type":"object","required":["ip","port","hostname","map_name","player_count","max_player","players"],"title":"ServerStatusPushRequest"},"ServerStatusesPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/ServerStatusPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"ServerStatusesPublic"},"ServersPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/ServerPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"ServersPublic"},"SettingCreate":{"properties":{"key":{"type":"string","maxLength":255,"title":"Key"},"value":{"type":"string","title":"Value"},"is_secret":{"type":"boolean","title":"Is Secret","default":false}},"type":"object","required":["key","value"],"title":"SettingCreate"},"SettingPublic":{"properties":{"value":{"type":"string","title":"Value"},"is_secret":{"type":"boolean","title":"Is Secret","default":false},"key":{"type":"string","title":"Key"}},"type":"object","required":["value","key"],"title":"SettingPublic"},"SettingUpdate":{"properties":{"value":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Value"},"is_secret":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Secret"}},"type":"object","title":"SettingUpdate"},"UserCreate":{"properties":{"steamid64":{"type":"string","maxLength":20,"title":"Steamid64"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"},"default_mode":{"anyOf":[{"type":"string","maxLength":3},{"type":"null"}],"title":"Default Mode"},"default_page":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Default Page"}},"type":"object","required":["steamid64"],"title":"UserCreate"},"UserPublic":{"properties":{"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"},"default_mode":{"anyOf":[{"type":"string","maxLength":3},{"type":"null"}],"title":"Default Mode"},"default_page":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Default Page"},"id":{"type":"string","format":"uuid","title":"Id"},"steamid64":{"type":"string","title":"Steamid64"},"player":{"anyOf":[{"$ref":"#/components/schemas/PlayerPublic"},{"type":"null"}]},"roles":{"items":{"$ref":"#/components/schemas/RolePublic"},"type":"array","title":"Roles","default":[]}},"type":"object","required":["id","steamid64"],"title":"UserPublic"},"UserUpdate":{"properties":{"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active"},"is_superuser":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Superuser"},"default_mode":{"anyOf":[{"type":"string","maxLength":3},{"type":"null"}],"title":"Default Mode"},"default_page":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Default Page"}},"type":"object","title":"UserUpdate"},"UserUpdateMe":{"properties":{"alias":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Alias"},"country":{"anyOf":[{"type":"string","maxLength":2},{"type":"null"}],"title":"Country"},"default_mode":{"anyOf":[{"type":"string","maxLength":3},{"type":"null"}],"title":"Default Mode"},"default_page":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"Default Page"}},"type":"object","title":"UserUpdateMe"},"UsersPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/UserPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"UsersPublic"},"VNLTierPublic":{"properties":{"map_name":{"type":"string","maxLength":255,"title":"Map Name"},"tp_tier":{"type":"integer","title":"Tp Tier"},"pro_tier":{"type":"integer","title":"Pro Tier"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["map_name","tp_tier","pro_tier","updated_at"],"title":"VNLTierPublic"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"app__api__routes__search__PlayerSearchResult":{"properties":{"steamid64":{"type":"string","title":"Steamid64"},"name":{"type":"string","title":"Name"},"alias":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alias"},"avatar_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar Hash"}},"type":"object","required":["steamid64","name"],"title":"PlayerSearchResult"},"app__models__PlayerSearchResult":{"properties":{"name":{"type":"string","maxLength":255,"title":"Name"},"steamid64":{"type":"string","maxLength":20,"title":"Steamid64"},"alias":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Alias"},"custom_id":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Custom Id"},"avatar_hash":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Avatar Hash"},"country":{"anyOf":[{"type":"string","maxLength":2},{"type":"null"}],"title":"Country"},"is_country_locked":{"type":"boolean","title":"Is Country Locked","description":"If True, country will not be auto-updated from Steam API","default":false},"primary_mode":{"type":"string","maxLength":10,"title":"Primary Mode","default":"KZT"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"last_seen":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Seen"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"profile_updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Profile Updated At"},"rating":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Rating","description":"Player rating from leaderboard (mode-specific)"},"rank":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rank","description":"Global rank by rating in primary mode"},"is_web_user":{"type":"boolean","title":"Is Web User","description":"Whether the player is a website user (has User account)","default":false},"points":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Points","description":"Points from primary mode leaderboard"}},"type":"object","required":["name","steamid64"],"title":"PlayerSearchResult"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"API Keys"},{"name":"Auth","description":"Authentication endpoints"},{"name":"Bans","description":"Ban management endpoints"},{"name":"Completions"},{"name":"Leaderboards","description":"Player leaderboard endpoints"},{"name":"Maps","description":"Map-related endpoints"},{"name":"Modes","description":"Game mode endpoints"},{"name":"Player Sessions"},{"name":"Players","description":"Player-related endpoints"},{"name":"Public Servers","description":"Public server management endpoints"},{"name":"Record Filters","description":"Record filter endpoints"},{"name":"Records","description":"Record-related endpoints"},{"name":"Regions"},{"name":"Reviews","description":"Map review endpoints"},{"name":"Roles","description":"Role management endpoints"},{"name":"Search","description":"Search endpoints"},{"name":"Server Groups","description":"Server group management endpoints"},{"name":"Server Status","description":"Server status endpoints"},{"name":"Servers","description":"Server management endpoints"},{"name":"Settings","description":"Settings management endpoints"},{"name":"Stats"},{"name":"Users","description":"User management endpoints"},{"name":"Utils","description":"Utility endpoints"},{"name":"VNL Tiers"}]}